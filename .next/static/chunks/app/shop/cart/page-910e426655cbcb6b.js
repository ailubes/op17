(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{6710:(e,t,s)=>{Promise.resolve().then(s.bind(s,8586))},8586:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(5155),l=s(2115),r=s(2619),i=s.n(r),c=s(2391),n=s(5145),o=s(451);let d=(e,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:0}).format(e);function x(){let e=(0,o.Y)(),t=(0,c.V)(e),[s,r]=(0,l.useState)(null),[x,h]=(0,l.useState)(!0),[m,p]=(0,l.useState)(null),[u,b]=(0,l.useState)(e);(0,l.useEffect)(()=>{b(e)},[e]);let f=async()=>{h(!0);let e=await fetch("/api/cart",{credentials:"include"});if(!e.ok){p("Failed to load cart."),h(!1);return}r((await e.json()).data||null),h(!1)};(0,l.useEffect)(()=>{f()},[]);let j=(0,l.useMemo)(()=>s?s.items.reduce((e,t)=>e+t.unitPriceEur*t.quantity,0):0,[s]),g=async(e,t)=>{p(null);let s=await fetch("/api/cart/items/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:t}),credentials:"include"});if(!s.ok){let e=await s.json().catch(()=>null);p((null==e?void 0:e.error)||"Failed to update item.");return}await f()},N=async e=>{if(p(null),!(await fetch("/api/cart/items/".concat(e.id),{method:"DELETE",credentials:"include"})).ok)return void p("Failed to remove item.");await f()};return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-950 text-white",children:[(0,a.jsx)("header",{className:"border-b border-white/10 bg-slate-950/95",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-5",children:[(0,a.jsx)(i(),{href:"/shop",className:"font-bebas text-3xl tracking-widest",children:"OP17 Shop"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"hidden sm:flex items-center gap-2 border border-white/10 bg-slate-900/60 px-2 py-1",suppressHydrationWarning:!0,children:[{label:"EN",value:"en"},{label:"UK",value:"uk"},{label:"IT",value:"it"}].map(e=>(0,a.jsx)("button",{onClick:()=>{var t;(t=e.value)!==u&&((0,n.KX)(t),b(t),window.location.reload())},className:"px-2 py-1 text-[11px] font-barlow font-bold uppercase tracking-[0.2em] transition-colors ".concat(u===e.value?"bg-gold text-slate-950":"text-slate-300 hover:text-white"),children:e.label},e.value))}),(0,a.jsx)(i(),{href:"/shop",className:"text-sm uppercase tracking-[0.2em] text-slate-400 hover:text-gold",children:t.cart.continueShopping})]})]})}),(0,a.jsxs)("main",{className:"mx-auto max-w-6xl px-6 py-10",children:[(0,a.jsx)("h1",{className:"font-bebas text-5xl mb-6",children:t.cart.title}),m&&(0,a.jsx)("p",{className:"text-sm text-red-400 mb-4",children:m}),x?(0,a.jsx)("p",{className:"text-slate-400",children:t.cart.loading}):s&&s.items.length>0?(0,a.jsxs)("div",{className:"grid gap-8 lg:grid-cols-[2fr_1fr]",children:[(0,a.jsx)("div",{className:"space-y-4",children:s.items.map(e=>(0,a.jsxs)("div",{className:"border border-white/10 bg-slate-900/60 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-bebas text-2xl",children:e.variant.product.name}),(0,a.jsxs)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:["SKU ",e.variant.sku]}),(0,a.jsxs)("p",{className:"text-sm text-slate-400",children:[e.variant.size?"Size ".concat(e.variant.size):"",e.variant.color?" \xb7 ".concat(e.variant.color):""]})]}),(0,a.jsx)("button",{onClick:()=>N(e),className:"text-xs uppercase tracking-[0.2em] text-red-300 hover:text-red-400",children:t.cart.remove})]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>g(e,e.quantity-1),className:"w-9 h-9 border border-white/10 text-sm hover:border-gold",children:"-"}),(0,a.jsx)("span",{className:"font-bebas text-xl",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>g(e,e.quantity+1),className:"w-9 h-9 border border-white/10 text-sm hover:border-gold",children:"+"})]}),(0,a.jsxs)("p",{className:"font-bebas text-2xl text-gold",children:["EUR ",e.unitPriceEur]})]})]},e.id))}),(0,a.jsxs)("aside",{className:"border border-white/10 bg-slate-900/60 p-6 h-fit",children:[(0,a.jsx)("h3",{className:"font-bebas text-2xl",children:t.cart.summary}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between text-sm text-slate-400",children:[(0,a.jsx)("span",{children:t.cart.subtotal}),(0,a.jsx)("span",{children:d(j,"EUR")})]}),(0,a.jsxs)("div",{className:"mt-6 border-t border-white/10 pt-4 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-bebas text-2xl",children:t.cart.total}),(0,a.jsx)("span",{className:"font-bebas text-3xl text-gold",children:d(j,"EUR")})]}),(0,a.jsx)(i(),{href:"/shop/checkout",className:"mt-6 block w-full bg-gold text-slate-950 font-barlow font-bold uppercase tracking-wider py-3 text-center hover:bg-white transition-colors",children:t.cart.proceed})]})]}):(0,a.jsxs)("div",{className:"border border-white/10 bg-slate-900/60 p-8 text-center",children:[(0,a.jsx)("p",{className:"text-slate-400",children:t.cart.empty}),(0,a.jsx)(i(),{href:"/shop",className:"mt-4 inline-flex items-center px-6 py-3 bg-gold text-slate-950 font-barlow font-bold uppercase tracking-wider text-sm hover:bg-white transition-colors",children:t.cart.backToShop})]})]}),(0,a.jsx)("footer",{className:"border-t border-white/10 bg-slate-950",children:(0,a.jsxs)("div",{className:"container mx-auto px-6 md:px-14 py-14",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(i(),{href:"/",className:"inline-flex items-center gap-3 group",children:[(0,a.jsx)("img",{src:"/images/logos/blue-yellow.png",alt:"Oleh Plotnytskyi OP17 logo",className:"h-10 w-auto transition-transform group-hover:scale-105"}),(0,a.jsx)("span",{className:"sr-only",children:"OP17"})]}),(0,a.jsx)("p",{className:"mt-4 text-slate-400 text-sm max-w-xs",children:t.footer.tagline})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-barlow font-bold uppercase tracking-widest mb-4 text-white",children:t.footer.shopLinks}),(0,a.jsxs)("ul",{className:"space-y-3 text-sm text-slate-400",children:[(0,a.jsx)("li",{children:(0,a.jsx)(i(),{href:"/shop",className:"hover:text-gold transition-colors",children:t.footer.shopHome})}),(0,a.jsx)("li",{children:(0,a.jsx)(i(),{href:"/shop/cart",className:"hover:text-gold transition-colors",children:t.footer.cart})}),(0,a.jsx)("li",{children:(0,a.jsx)(i(),{href:"/shop/checkout",className:"hover:text-gold transition-colors",children:t.footer.checkout})}),(0,a.jsx)("li",{children:(0,a.jsx)(i(),{href:"/shop/payment-status",className:"hover:text-gold transition-colors",children:t.footer.paymentStatus})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-barlow font-bold uppercase tracking-widest mb-4 text-white",children:t.footer.support}),(0,a.jsxs)("ul",{className:"space-y-3 text-sm text-slate-400",children:[(0,a.jsx)("li",{children:t.footer.shipping}),(0,a.jsx)("li",{children:t.footer.payments}),(0,a.jsx)("li",{children:t.footer.supportEmail})]})]})]}),(0,a.jsxs)("div",{className:"pt-10 mt-10 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-slate-500",children:[(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Plotnytskyi Collection. ",t.footer.rights]}),(0,a.jsx)("p",{className:"uppercase tracking-[0.2em] text-slate-600",children:t.footer.official})]})]})})]})}}},e=>{e.O(0,[2619,389,8441,1255,7358],()=>e(e.s=6710)),_N_E=e.O()}]);