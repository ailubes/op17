(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9791],{63:(e,s,t)=>{"use strict";var a=t(7260);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},339:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(5155),l=t(63),r=t(2115),n=t(2619),i=t.n(n);let c=(e,s)=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,maximumFractionDigits:2}).format(e/100);function d(){let e=(0,l.useSearchParams)(),[s,t]=(0,r.useState)(""),[n,d]=(0,r.useState)(""),[o,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)(null),[h,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{let a=e.get("order")||"";a&&!s&&t(a)},[e,s]);let b=async e=>{e.preventDefault(),m(!0),u(null),p(null);let t=await fetch("/api/orders/lookup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderNumber:s,email:n}),credentials:"include"});if(!t.ok){let e=await t.json().catch(()=>null);u((null==e?void 0:e.error)||"Order not found."),m(!1);return}p((await t.json()).data||null),m(!1)},j=(0,r.useMemo)(()=>h?h.payments.map(e=>e.status).join(", ")||"No payments found":"",[h]);return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-950 text-white",children:[(0,a.jsx)("header",{className:"border-b border-white/10 bg-slate-950/95",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-5xl items-center justify-between px-6 py-5",children:[(0,a.jsx)(i(),{href:"/shop",className:"font-bebas text-3xl tracking-widest",children:"OP17 Status"}),(0,a.jsx)(i(),{href:"/shop",className:"text-sm uppercase tracking-[0.2em] text-slate-400 hover:text-gold",children:"Back to Shop"})]})}),(0,a.jsxs)("main",{className:"mx-auto max-w-5xl px-6 py-10 space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-bebas text-5xl",children:"Payment Status"}),(0,a.jsx)("p",{className:"text-slate-400",children:"Enter your order number and email to view the latest payment and fulfillment updates."})]}),(0,a.jsxs)("form",{className:"border border-white/10 bg-slate-900/60 p-6 space-y-4",onSubmit:b,children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsx)("input",{placeholder:"Order Number (e.g. OP17-20260127-AB12)",value:s,onChange:e=>t(e.target.value),className:"w-full bg-slate-950 border border-white/10 px-4 py-3 text-white focus:outline-none focus:border-gold",required:!0}),(0,a.jsx)("input",{type:"email",placeholder:"Email",value:n,onChange:e=>d(e.target.value),className:"w-full bg-slate-950 border border-white/10 px-4 py-3 text-white focus:outline-none focus:border-gold",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-gold text-slate-950 font-barlow font-bold uppercase tracking-wider py-3 hover:bg-white transition-colors disabled:opacity-60",children:o?"Checking...":"Check Status"})]}),x&&(0,a.jsx)("p",{className:"text-sm text-red-400",children:x}),h&&(0,a.jsxs)("section",{className:"border border-white/10 bg-slate-900/60 p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"font-bebas text-3xl",children:["Order ",h.orderNumber]}),(0,a.jsxs)("p",{className:"text-slate-400",children:["Placed ",new Date(h.createdAt).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-slate-500",children:"Status"}),(0,a.jsx)("p",{className:"font-bebas text-2xl text-gold",children:h.status})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-bebas text-xl",children:"Payments"}),(0,a.jsx)("p",{className:"text-sm text-slate-300",children:j}),h.payments.map(e=>(0,a.jsxs)("div",{className:"text-sm text-slate-400",children:[e.provider," \xb7 ",e.status," \xb7 ",c(e.amountMinor,e.currency)]},e.id))]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-bebas text-xl",children:"Shipment"}),0===h.shipments.length?(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"No shipment created yet."}):h.shipments.map(e=>(0,a.jsxs)("div",{className:"text-sm text-slate-400",children:[e.method," \xb7 ",e.status,e.trackingNumber?" \xb7 ".concat(e.trackingNumber):""]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bebas text-xl mb-2",children:"Items"}),(0,a.jsx)("div",{className:"space-y-2",children:h.items.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-300",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsxs)("span",{children:["x",e.quantity]})]},e.id))}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between border-t border-white/10 pt-4",children:[(0,a.jsx)("span",{className:"font-bebas text-2xl",children:"Total"}),(0,a.jsx)("span",{className:"font-bebas text-3xl text-gold",children:c(h.totalMinor,h.currency)})]})]})]})]})]})}},2747:(e,s,t)=>{Promise.resolve().then(t.bind(t,339))}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=2747)),_N_E=e.O()}]);